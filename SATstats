dataList = []
with open("2012_SAT_Results.csv", "r") as text:
    for line in text:
        strip = line.strip()
        listline = strip.split(",")
        dataList.append(listline)
    
newDataList = [['SCHOOL NAME', 'Num of SAT Test Takers', 'Reading', 'Math', 'Writing', 'Average Score']]
for sublist in dataList[1:]:
    if str(sublist[2]) != 's':
        index = dataList.index(sublist)
        index = dataList.pop(index)
        average = (int(index[3]) + int(index[4]) + int(index[5])) / 3
        index.append(average)
    index = index[1:]
    newDataList.append(index)

def listToHTMLTable(nums):
    element_index = 0
    nums_index = 0
    print ("<table>")
    for sublst in nums:
        print ("  <tr>")
        for element in sublst:
            print ("    <td>" + str(element) + "</td>")
        print ("  </tr>")
    print ("</table>")
    return ""

xingdeDataList = []
for thing in newDataList[1:]:
    if int(thing[-1]) >= 550:
        xingdeDataList.append(thing)
print(xingdeDataList)

top_table = listToHTMLTable(xingdeDataList)
whole_table = listToHTMLTable(newDataList)
